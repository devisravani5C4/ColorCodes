<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <title>Color Codes Picker with Hex & Numeric HSL</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      user-select: none;
    }
    h1 {
      margin-bottom: 25px;
    }
    .picker-container {
      display: flex;
      gap: 30px;
      align-items: center;
    }
    /* Vertical Hue slider */
    #hueCanvas {
      border: 1px solid #ccc;
      cursor: pointer;
      position: relative;
      width: 50px;
      height: 300px;
      border-radius: 8px;
      box-shadow: 0 0 6px #aaa inset;
    }
    /* Saturation-Lightness square */
    #slCanvas {
      border: 1px solid #ccc;
      cursor: crosshair;
      width: 300px;
      height: 300px;
      border-radius: 8px;
      box-shadow: 0 0 6px #aaa inset;
      position: relative;
    }
    /* Selector circles */
    .selector {
      position: absolute;
      border: 3px solid white;
      border-radius: 50%;
      box-shadow: 0 0 5px #0006;
      pointer-events: none;
      width: 20px;
      height: 20px;
      transform: translate(-50%, -50%);
      background: none;
      z-index: 10;
    }
    #hueSelector {
      left: 50%;
      top: 0;
      cursor: grab;
    }
    #slSelector {
      width: 24px;
      height: 24px;
      border: 2px solid white;
      box-shadow: 0 0 8px #0008;
      background: none;
      cursor: grab;
    }
    /* Info panel */
    .info {
      margin-top: 25px;
      background: white;
      padding: 20px 40px;
      border-radius: 10px;
      box-shadow: 0 0 10px #aaa;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 30px;
      min-width: 380px;
      justify-content: center;
      flex-wrap: wrap;
      text-align: left;
    }
    .color-swatch {
      width: 70px;
      height: 70px;
      border-radius: 8px;
      border: 2px solid #333;
      box-shadow: inset 0 0 8px #0004;
    }
    .info div {
      min-width: 140px;
    }
  </style>
</head>
<body>

<h1>Color Codes Picker</h1>

<div class="picker-container">
  <div style="position: relative;">
    <canvas id="hueCanvas" width="50" height="300"></canvas>
    <div id="hueSelector" class="selector"></div>
  </div>
  <div style="position: relative;">
    <canvas id="slCanvas" width="300" height="300"></canvas>
    <div id="slSelector" class="selector"></div>
  </div>
</div>

<div class="info">
  <div><b>RGB:</b> <span id="rgb">-</span></div>
  <div><b>HSL:</b> <span id="hsl">-</span></div>
  <div><b>Hex:</b> <span id="hex">-</span></div>
  <div class="color-swatch" id="colorSwatch"></div>
</div>

<script>
  const hueCanvas = document.getElementById('hueCanvas');
  const slCanvas = document.getElementById('slCanvas');
  const hueCtx = hueCanvas.getContext('2d');
  const slCtx = slCanvas.getContext('2d');

  const hueSelector = document.getElementById('hueSelector');
  const slSelector = document.getElementById('slSelector');

  const rgbSpan = document.getElementById('rgb');
  const hslSpan = document.getElementById('hsl');
  const hexSpan = document.getElementById('hex');
  const colorSwatch = document.getElementById('colorSwatch');

  const hueWidth = hueCanvas.width;
  const hueHeight = hueCanvas.height;

  const slWidth = slCanvas.width;
  const slHeight = slCanvas.height;

  // Current picked values
  let currentHue = 0;       // 0 - 360
  let currentSat = 100;     // 0 - 100
  let currentLight = 50;    // 0 - 100

  // Draw vertical hue gradient
  function drawHueGradient() {
    const hueGradient = hueCtx.createLinearGradient(0, 0, 0, hueHeight);
    for(let i=0; i<=360; i+=10) {
      hueGradient.addColorStop(i/360, `hsl(${i}, 100%, 50%)`);
    }
    hueCtx.fillStyle = hueGradient;
    hueCtx.fillRect(0, 0, hueWidth, hueHeight);
  }

  // Draw saturation-lightness square for current hue
  function drawSaturationLightnessSquare(hue) {
  // Fill with hue color at full saturation and 50% lightness
  slCtx.fillStyle = `hsl(${hue}, 100%, 50%)`;
  slCtx.fillRect(0, 0, slWidth, slHeight);

  // White to transparent (left to right) for saturation
  const whiteGradient = slCtx.createLinearGradient(0, 0, slWidth, 0);
  whiteGradient.addColorStop(0, 'rgba(255,255,255,1)');
  whiteGradient.addColorStop(1, 'rgba(255,255,255,0)');
  slCtx.fillStyle = whiteGradient;
  slCtx.fillRect(0, 0, slWidth, slHeight);

  // Transparent to black (top to bottom) for lightness
  const blackGradient = slCtx.createLinearGradient(0, 0, 0, slHeight);
  blackGradient.addColorStop(0, 'rgba(0,0,0,0)');
  blackGradient.addColorStop(1, 'rgba(0,0,0,1)');
  slCtx.fillStyle = blackGradient;
  slCtx.fillRect(0, 0, slWidth, slHeight);
}


  // Convert HSL to RGB
  function hslToRgb(h, s, l) {
    s /= 100;
    l /= 100;
    const c = (1 - Math.abs(2*l -1)) * s;
    const x = c * (1 - Math.abs((h/60) % 2 -1));
    const m = l - c/2;
    let r=0, g=0, b=0;

    if(h < 60)      { r = c; g = x; b = 0; }
    else if(h < 120){ r = x; g = c; b = 0; }
    else if(h < 180){ r = 0; g = c; b = x; }
    else if(h < 240){ r = 0; g = x; b = c; }
    else if(h < 300){ r = x; g = 0; b = c; }
    else            { r = c; g = 0; b = x; }

    r = Math.round((r + m)*255);
    g = Math.round((g + m)*255);
    b = Math.round((b + m)*255);
    return [r, g, b];
  }

  // Convert RGB to Hex
  function rgbToHex(r, g, b) {
    return "#" + [r, g, b].map(x => {
      const hex = x.toString(16);
      return hex.length === 1 ? "0" + hex : hex;
    }).join('');
  }

  // Update info text and swatch
  function updateColorInfo(h, s, l) {
    const [r,g,b] = hslToRgb(h,s,l);
    rgbSpan.textContent = `${r}, ${g}, ${b}`;
    hslSpan.textContent = `${h}, ${s}, ${l}`;
    hexSpan.textContent = rgbToHex(r,g,b);
    colorSwatch.style.backgroundColor = `rgb(${r},${g},${b})`;
  }

  // Position selectors
  function positionHueSelector(hue) {
    const y = (hue / 360) * hueHeight;
    hueSelector.style.top = `${y}px`;
  }
  function positionSLSelector(sat, light) {
    const x = (sat / 100) * slWidth;
    const y = ((100 - light) / 100) * slHeight;
    slSelector.style.left = `${x}px`;
    slSelector.style.top = `${y}px`;
  }

  // Draw everything initial
  drawHueGradient();
  drawSaturationLightnessSquare(currentHue);
  positionHueSelector(currentHue);
  positionSLSelector(currentSat, currentLight);
  updateColorInfo(currentHue, currentSat, currentLight);

  // --- Interaction handling ---

  let draggingHue = false;
  let draggingSL = false;

  // Hue dragging
  hueCanvas.addEventListener('mousedown', e => {
    draggingHue = true;
    updateHue(e);
  });
  window.addEventListener('mouseup', () => draggingHue = false);
  window.addEventListener('mousemove', e => {
    if(draggingHue) updateHue(e);
  });

  // SL dragging
  slCanvas.addEventListener('mousedown', e => {
    draggingSL = true;
    updateSL(e);
  });
  window.addEventListener('mouseup', () => draggingSL = false);
  window.addEventListener('mousemove', e => {
    if(draggingSL) updateSL(e);
  });

  function updateHue(e) {
    const rect = hueCanvas.getBoundingClientRect();
    let y = e.clientY - rect.top;
    y = Math.min(Math.max(y, 0), hueHeight);
    currentHue = Math.round((y / hueHeight) * 360);
    positionHueSelector(currentHue);
    drawSaturationLightnessSquare(currentHue);
    updateColorInfo(currentHue, currentSat, currentLight);
  }

  function updateSL(e) {
    const rect = slCanvas.getBoundingClientRect();
    let x = e.clientX - rect.left;
    let y = e.clientY - rect.top;
    x = Math.min(Math.max(x, 0), slWidth);
    y = Math.min(Math.max(y, 0), slHeight);

    currentSat = Math.round((x / slWidth) * 100);
    currentLight = Math.round(100 - (y / slHeight) * 100);

    positionSLSelector(currentSat, currentLight);
    updateColorInfo(currentHue, currentSat, currentLight);
  }

  // Allow clicking on hue canvas too
  hueCanvas.addEventListener('click', updateHue);
  slCanvas.addEventListener('click', updateSL);
</script>

</body>
</html>
